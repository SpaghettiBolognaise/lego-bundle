
<div class="box">
    <div class="box-header">
    </div>


    <div class="box-body"  id="{{ component.gid('body') }}">

        <div class="table_overflow_fix table-responsive">
            <table id="{{ component.gid('table') }}">
                {% for item in component.entities %}
                    <tr data-node="{{ item.id }}" data-tt-id="{{ item.id }}" data-tt-parent-id="{% if item.parent %}{{ item.parent.id }}{%  endif %}" data-parent="{% if item.parent %}{{ item.parent.id }}{%  endif %}">

                        {% for field in component.fields%}
                            <td>
                                {{ render_field_value(component, field, item) }}
                            </td>
                        {% endfor %}
                    </tr>

                {% endfor %}
            </table>
        </div>
        <script>
            $("#{{ component.gid('table') }}").treetable({ expandable: true });
            /*function openNode(idNode){
                console.log('ok');
                if($(this).hasClass('open')){
                    $(this).removeClass('open');
                    $('tr[data-parent=' + idNode + ']').addClass('hidden');
                    $('tr[data-parent=' + idNode + ']').hide();
                }else {
                    $(this).addClass('open');
                    $('tr[data-parent=' + idNode + ']').removeClass('hidden');
                    $('tr[data-parent=' + idNode + ']').show();
                }
            }*/
        </script>

    </div>
</div>